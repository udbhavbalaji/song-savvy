{% extends "layout.html" %}
{% block content %}
<div class="create-form form-container">
    <div class="heading">
        <h1>
            {{ title }}
        </h1>
    </div>
    <form id="song_url">
        <div class="form-group">
            <label for="song_url">Enter Spotify Link: </label>
            <input id="song_url" type="url" name="song_url" placeholder="Enter Song URL" />
        </div>
    </form>

    <div class="create-button width-100">
        <a href="#" onclick="submit(this)" data-target-url="{{ url_for('prediction_result') }}">
            Submit
        </a>
    </div>

    <script>
        function submit(element) {
            const form = document.getElementById('song_url');
            const params = new URLSearchParams(new FormData(form));
            const targetURL = element.getAttribute('data-target-url');
            window.location.href = targetURL + '?' + params.toString();
        }
    </script>

</div>
{% endblock content %}
{% block footer_pos %}
<div class="footer-fixed">
{% endblock footer_pos %}
